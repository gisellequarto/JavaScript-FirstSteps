<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <title>XMLHttpRequest #02</title>
    <link rel='stylesheet' href='css/estilo.css'>
      <link rel="icon" 
      type="image/png" 
      href="data:image/jpeg;base64,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">
    <style>
        input[type=file] {
            display: flex;
            margin: 10px;
            padding: 40px;
            font-size: 40px;
            background: crimson;
            border-radius: 20px;
        }
    </style>
</head>

<body class="conteudo exercicio">
    <input type="file" name="arquivo" />
    <div class="progresso"></div>

    <script>
        function ajaxUpload(config) {
            const xhr = new XMLHttpRequest();

            if (xhr.upload) {
                xhr.upload.onprogress = e => {
                    const atual = e.loaded;
                    const total = e.total;
                    const percentual = Math.floor(atual / total * 100);
                    config.progresso({
                        atual,
                        total,
                        percentual
                    })
                }
            }

            xhr.open("post", config.url, true);
            xhr.send(config.formData);
        }

        document.querySelector('input[type=file]').onchange = e => {
            const formData = new FormData();
            const inputFile = e.target;
            formData.append(inputFile.name, inputFile.files[0]);

            ajaxUpload({
                url: "upload",
                formData: formData,
                progresso(dados) {
                    const progresso = document.querySelector('.progresso');
                    progresso.innerHTML = JSON.stringify(dados);
                }

            })

        }
    </script>
</body>